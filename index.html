<!DOCTYPE html>
<!--
 *  Copyright (c) 2015 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
-->
<html>
<head>

    <meta charset="utf-8">
    <meta name="description" content="WebRTC code samples">
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1">
    <meta itemprop="description" content="Client-side WebRTC code samples">
    <meta itemprop="image" content="../../../images/webrtc-icon-192x192.png">
    <meta itemprop="name" content="WebRTC code samples">
    <meta name="mobile-web-app-capable" content="yes">
    <meta id="theme-color" name="theme-color" content="#ffffff">

    <base target="_blank">

    <title>Trickle ICE</title>

    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/main2.css">
    <link rel="stylesheet" href="css/main.css"/>

</head>

<body>

<div id="container">

        <section>

            <table id="candidates">
                <thead id="candidatesHead">
                <tr>
                    <th>Time</th>
                    <th>Component</th>
                    <th>Type</th>
                    <th>Foundation</th>
                    <th>Protocol</th>
                    <th>Address</th>
                    <th>Port</th>
                    <th>Priority</th>
                </tr>
                </thead>
                <tbody id="candidatesBody"></tbody>
            </table>
            <button id="gather">Gather candidates</button>
            <div id="error-note">Note: errors from onicecandidateerror above are not neccessarily fatal. For example an IPv6 DNS lookup may fail but relay candidates can still be gathered via IPv4.</div>
            <div id="error"></div>
        </section>

    <section id="iceServers">

        <h2>ICE servers</h2>

        <select id="servers" size="4">
        </select>

        <div>
            <label for="url">STUN or TURN URI:</label>
            <input id="url">
        </div>

        <div>
            <label for="username">TURN username:</label>
            <input id="username">
        </div>

        <div>
            <label for="password">TURN password:</label>
            <input id="password">
        </div>

        <div>
            <button id="add">Add Server</button>
            <button id="remove">Remove Server</button>
            <button id="reset">Reset to defaults</button>
        </div>

    </section>

    <section id="iceOptions">

        <h2>ICE options</h2>

        <div id="iceTransports">
            <label for="transports"><span>IceTransports value:</span></label>
            <input type="radio" name="transports" value="all" id="all">
            <span>all</span>
            <input type="radio" name="transports" value="relay" id="relay" checked>
            <span>relay</span>
        </div>
        <div>
            <label>ICE Candidate Pool:</label>
            <span id="poolValue">0</span>
            <span class="gray">0</span>
            <input id="iceCandidatePool" type="range" min="0" max="10" value="0">
            <span class="gray">10</span>
        </div>

    </section>

   

</div>

<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="js/main.js"></script>

<script src="js/ga.js"></script>

<script>
window.addEventListener('load', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const serverAddr = urlParams.get('server');
    const username = urlParams.get('user');
    const passwd = urlParams.get('passwd');

    console.log('server: ' + serverAddr);
    console.log('user: ' + username);
    console.log('passwd: ' + passwd);
    addServerByParams(serverAddr, username, passwd);
    start();
})

</script>

</body>
</html>
